/* =========================================
   1. ROOT VARIABLES (Color Palette)
   ========================================= */
:root {
  /* Branding Colors */
  --primary: #007BFF;   /* Calming Blue for actions/income */
  --danger: #DC3545;    /* Soft Red for expenses */
  --success: #28A745;  /* Healthy Green for savings */
  
  /* UI Colors */
  --bg: #F8F9FA;      /* Light Off-White background */
  --text: #212529;    /* Dark text */
  --muted: #6C757D;    /* Gray muted text */
  --card-bg: #FFFFFF;
  /* ðŸ†• New CSS variable for sticky header height */
  --sticky-header-height: 100px; 
}

/* =========================================
   2. GLOBAL RESET & BASE STYLES
   ========================================= */
*, *::before, *::after {
  box-sizing: border-box;
}

body {
  font-family: 'Inter', Arial, Helvetica, sans-serif;
  background: var(--bg);
  color: var(--text);
  margin: 0;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* =========================================
   3. LAYOUT & CONTAINERS
   ========================================= */

/* ðŸ†• ADJUST BODY PADDING to account for the sticky headers */
.mdl-layout__content.container {
  /* This must be large enough to push content below the sticky topbar + tabs */
  padding-top: var(--sticky-header-height); 
  padding-bottom: 8px; /* Maintain bottom padding */
  padding-left: 8px; 
  padding-right: 8px;
  flex: 1;
  width: 100%;
  margin: 0 auto;
}

/* DESKTOP/TABLET: Restore padding and max-width */
@media screen and (min-width: 600px) {
  .mdl-layout__content.container {
    padding: 16px;
    padding-top: var(--sticky-header-height); /* Keep sticky padding */
    max-width: 1000px;
  }
}

/* ðŸ†• STICKY TOPBAR */
.topbar {
  /* Fixed position for sticking to the top */
  position: fixed; 
  top: 0;
  left: 0;
  right: 0;
  z-index: 999; /* Ensure it's on top of everything */
  
  background: var(--card-bg);
  padding: 8px 16px; 
  display: flex;
  align-items: center;
  justify-content: space-between;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}
/* ðŸ†• INCREASED TITLE SIZE FOR MOBILE */
.topbar h1 {
    font-size: 1.8rem; /* Increased size (was 1.5rem) */
    margin: 0;
}

/* Card styles (MDL already has card classes, this enhances them) */
.mdl-card {
  background: var(--card-bg);
  padding: 0;
  border-radius: 8px; 
  margin-bottom: 12px; 
  width: 100%;
}
.mdl-card__title {
    padding: 12px 16px; 
}
.mdl-card__title-text {
    font-size: 1.25rem; 
}
.mdl-card__supporting-text {
    width: 100%;
    padding: 16px;
}

/* Footer style */
.footer {
  text-align: center;
  padding: 10px;
  color: var(--muted);
  font-size: 12px;
}

/* =========================================
   4. UTILITIES & COMPONENTS
   ========================================= */
.row {
  display: flex;
  gap: 12px; 
  margin: 8px 0;
  align-items: center;
}
.input-col {
  flex: 1;
}
.mdl-card__supporting-text > .row {
    flex-wrap: wrap; 
}
.hidden {
  display: none;
}
.small-btn {
  padding: 4px 8px; 
  height: 28px; 
  line-height: 28px;
}
.notice, .muted {
  font-size: 13px;
  margin: 8px 0;
}
.mdl-list__item {
    padding: 8px 16px; 
}

/* =========================================
   5. DASHBOARD SPECIFIC STYLES
   ========================================= */

.dashboard-summary {
  width: 100%;
  padding: 0;
}
.dashboard-summary .row {
  display: flex;
  justify-content: space-between;
  padding: 10px 16px; 
  margin: 0;
  font-size: 15px; 
}
.dashboard-summary .row.total {
  font-weight: bold;
  font-size: 17px;
  background-color: var(--bg); 
}

.dashboard-summary .row.income {
    color: var(--primary);
}
.dashboard-summary .row.expense {
    color: var(--danger);
}
.dashboard-summary .row.saved {
  font-weight: bold;
  color: var(--success); 
  background-color: #e6ffe6; 
  border-radius: 0 0 8px 8px;
}
.dashboard-summary hr {
  margin: 8px 0; 
  opacity: 0.1;
  border-color: var(--muted);
}

/* Month Selector */
.month-selector-row {
    justify-content: space-around;
    padding: 8px 0; 
    align-items: center;
    background-color: var(--card-bg);
}
.current-month-label {
    font-weight: bold;
    font-size: 1em; 
    text-align: center;
    flex-grow: 1; 
}
.month-selector-row button {
    padding: 0 8px; 
}

/* =========================================
   6. FLOATING ACTION BUTTON (FAB)
   ========================================= */
.floating-btn {
  position: fixed;
  bottom: 16px; 
  right: 16px; 
  z-index: 900;
  background-color: var(--primary) !important;
}

/* =========================================
   7. MDL CUSTOMIZATIONS & TAB ADJUSTMENTS
   ========================================= */

/* Customizing the colored button to match primary color */
.mdl-button--colored,
.mdl-button.mdl-button--colored:active,
.mdl-button.mdl-button--colored:hover {
    background: var(--primary) !important;
    color: var(--card-bg) !important;
}

/* Customizing the accent button (good for 'Clear All' or 'Add' actions) */
.mdl-button--accent.mdl-button--raised,
.mdl-button--accent.mdl-button--fab {
    background-color: var(--danger) !important;
}

/* ðŸ†• STICKY TABS */
.mdl-tabs {
    /* The tabs container must be part of the sticky element */
    width: 100%;
    position: fixed; 
    /* Place it right below the topbar. Topbar height is approx 52px */
    top: 52px; 
    left: 0;
    z-index: 998; /* Below topbar, above content */
    background: var(--card-bg);
}
.mdl-tabs__tab-bar {
    border-bottom: 2px solid var(--bg);
    padding: 0;
    overflow-x: auto; 
    white-space: nowrap;
    -webkit-overflow-scrolling: touch;
}
.mdl-tabs__tab {
    min-width: 90px;
    padding: 0 12px;
    line-height: 40px; 
    height: 40px;
}

/* Tab indicator color */
.mdl-tabs__tab.is-active {
    color: var(--primary) !important;
}
.mdl-tabs__tab.is-active::after {
    background: var(--primary) !important;
    height: 3px;
}

/* ðŸ†• MOVE UPDATE BAR TO TOP */
#updateBar {
  /* Remove fixed bottom positioning */
  bottom: auto !important;
  /* Position it right below the sticky tabs. Tabs + Topbar is ~92px */
  top: 92px !important; 
  left: 0;
  right: 0;
  z-index: 997; /* Below Topbar/Tabs, above content */
  
  /* Resetting display properties */
  position: fixed !important;
  background: var(--primary);
  color: white;
  padding: 12px;
  display: flex;
  justify-content: space-between;
  align-items: center; 
}
/* Re-calculate sticky height to accommodate the update bar */
/* We'll assume Topbar (52px) + Tabs (40px) + UpdateBar (44px) = 136px */
:root {
  --sticky-header-height: 136px;
}
/* Ensure the content padding is updated based on whether the update bar is shown or not.
   Since we can't reliably check if 'hidden' is applied in CSS, we keep the max height.
   For true dynamic adjustment, this padding should be set via JavaScript based on updateBar visibility.
   For now, we'll set the padding based on the largest possible sticky header height.
*/
.mdl-layout__content.container {
    padding-top: 136px; /* Adjusted to account for Topbar + Tabs + UpdateBar */
}


/* ðŸ†• Make Input Rows Stack on Mobile for Inputs/Buttons */
@media screen and (max-width: 600px) {
    /* Targets the rows in the Income input card and Expense input card */
    #incomeInputCard .row, 
    #addDailyExpenseSection .row,
    #addRecurringItemSection .row {
        flex-direction: column;
        align-items: stretch;
    }
    .input-col {
        width: 100%;
    }
    /* Buttons should take full width when stacked */
    #saveIncome, #addExtraIncome, #addExpBtn, #addRecurringItemBtn,
    #exportCSV, #clearAll {
        width: 100%;
        margin-top: 8px;
    }
    /* Ensure radio buttons (for recurring) stay inline */
    #addRecurringItemSection .mdl-radio {
        width: auto;
    }
}
