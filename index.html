<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SmartFinance — PWA</title>

  <!-- Material Design Lite (MDL) -->
  <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
  <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>

  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="topbar mdl-shadow--2dp">
    <div class="container-row">
      <h1>SmartFinance</h1>
      <div>
        <button id="installBtn" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored small-btn">Install</button>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- Dashboard -->
    <section id="dashboard" class="card mdl-shadow--2dp">
      <h2>Dashboard — <span id="currentMonthLabel"></span></h2>

      <div class="grid">
        <div class="stat mdl-card mdl-shadow--2dp">
          <div class="stat-title">Income (base)</div>
          <div id="incomeVal" class="stat-value">₹ 0.00</div>
        </div>

        <div class="stat mdl-card mdl-shadow--2dp">
          <div class="stat-title">Total Income (base + extras)</div>
          <div id="incomeTotal" class="stat-value">₹ 0.00</div>
        </div>

        <div class="stat mdl-card mdl-shadow--2dp">
          <div class="stat-title">Expenses (this month)</div>
          <div id="expenseVal" class="stat-value">₹ 0.00</div>
        </div>

        <div class="stat mdl-card mdl-shadow--2dp">
          <div class="stat-title">Investments</div>
          <div id="investVal" class="stat-value">₹ 0.00</div>
        </div>

        <div class="stat mdl-card mdl-shadow--2dp">
          <div class="stat-title">Savings</div>
          <div id="saveVal" class="stat-value">₹ 0.00</div>
        </div>

        <div class="stat mdl-card mdl-shadow--2dp">
          <div class="stat-title">Monthly Recurring Total</div>
          <div id="monthlyRecurringDisplay" class="stat-value">₹ 0.00</div>
        </div>

        <div class="stat mdl-card mdl-shadow--2dp">
          <div class="stat-title">Yearly Recurring Total</div>
          <div id="yearlyRecurringDisplay" class="stat-value">₹ 0.00</div>
          <div class="muted" id="yearlyMonthlyEquivalent"> (₹ 0.00 /month equivalent)</div>
        </div>
      </div>

      <div class="actions">
        <button class="mdl-button mdl-js-button mdl-button--raised" id="openAddExpense">+ Add Expense</button>
        <button class="mdl-button mdl-js-button mdl-button--compact" id="openRecurring">Recurring</button>
        <button class="mdl-button mdl-js-button mdl-button--compact" id="openInvest">Investments</button>
        <button class="mdl-button mdl-js-button mdl-button--compact" id="openHistory">History</button>
      </div>
    </section>

    <!-- Income Section -->
    <section id="incomeSection" class="card mdl-shadow--2dp">
      <h3>Set Monthly Income</h3>

      <div class="row">
        <div class="input-col">
          <label class="mdl-textfield mdl-js-textfield">
            <input class="mdl-textfield__input" type="number" id="incomeInput" placeholder="Enter base monthly income">
          </label>
        </div>
        <div class="input-col">
          <button id="saveIncome" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">Save Base Income</button>
        </div>
      </div>

      <!-- Extra income add -->
      <h4>Add Extra Income (bonus, freelance)</h4>
      <div class="row">
        <input id="extraLabel" class="mdl-textfield__input" type="text" placeholder="Label (eg. Freelance)">
        <input id="extraAmount" class="mdl-textfield__input" type="number" placeholder="Amount">
        <button id="addExtraIncome" class="mdl-button mdl-js-button mdl-button--raised">Add Extra</button>
      </div>

      <div class="row nav">
        <button class="mdl-button mdl-js-button" id="prevMonthBtn">← Prev Month</button>
        <button class="mdl-button mdl-js-button" id="currentMonthBtn">Current Month</button>
        <button class="mdl-button mdl-js-button" id="nextMonthBtn">Next Month →</button>
      </div>
    </section>

    <!-- Add Expense -->
    <section id="addExpenseSection" class="card hidden mdl-shadow--2dp">
      <h3>Add Expense</h3>
      <input id="expAmount" type="number" placeholder="Amount" />
      <input id="expCategory" type="text" placeholder="Category (Food, Rent...)" />
      <input id="expNote" type="text" placeholder="Note (optional)" />
      <input id="expDate" type="date" />
      <div class="row">
        <button class="mdl-button mdl-js-button mdl-button--raised" id="addExpBtn">Add</button>
        <button class="mdl-button mdl-js-button" id="cancelAddExp">Cancel</button>
      </div>
    </section>

    <!-- Recurring -->
    <section id="recurringSection" class="card hidden mdl-shadow--2dp">
      <h3>Monthly Recurring</h3>
      <input id="rec_rent" type="number" placeholder="Rent" />
      <input id="rec_emi" type="number" placeholder="EMI" />
      <input id="rec_bills" type="number" placeholder="Bills" />
      <input id="rec_other" type="number" placeholder="Other monthly" />

      <h3>Yearly Recurring</h3>
      <div class="notice">Set yearly items (they are considered yearly totals)</div>
      <div class="row">
        <input id="yr_insurance_amt" type="number" placeholder="Insurance amount" />
        <select id="yr_insurance_month">
          <option value="">due month</option>
        </select>
      </div>
      <div class="row">
        <input id="yr_sub_amt" type="number" placeholder="Annual subscription amount" />
        <select id="yr_sub_month">
          <option value="">due month</option>
        </select>
      </div>

      <div class="row">
        <button id="saveRecurring" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">Save Recurring</button>
        <button id="cancelRecurring" class="mdl-button mdl-js-button">Cancel</button>
      </div>
    </section>

    <!-- Investments -->
    <section id="investSection" class="card hidden mdl-shadow--2dp">
      <h3>Monthly Investments</h3>
      <input id="inv_sip" type="number" placeholder="SIP monthly" />
      <input id="inv_stocks" type="number" placeholder="Stocks monthly" />
      <input id="inv_other" type="number" placeholder="Other monthly" />
      <div class="row">
        <button id="saveInvest" class="mdl-button mdl-js-button mdl-button--raised">Save Investments</button>
        <button id="cancelInvest" class="mdl-button mdl-js-button">Cancel</button>
      </div>
    </section>

    <!-- History -->
    <section id="historySection" class="card hidden mdl-shadow--2dp">
      <h3>History</h3>
      <div id="monthsList"></div>
      <div id="monthDetail"></div>
      <div class="row">
        <button id="exportCSV" class="mdl-button mdl-js-button">Export CSV</button>
        <button id="clearAll" class="mdl-button mdl-js-button mdl-button--raised mdl-button--accent">Clear All Data</button>
      </div>
    </section>
  </main>

  <footer class="footer">SmartFinance · Offline PWA · Material-style</footer>

  <script src="db.js"></script>
  <script src="app.js"></script>
</body>
</html>
